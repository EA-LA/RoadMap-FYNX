<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <title>FYNX Roadmap</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root{
      --ink:#5d4037;
      --ink2:#3e2723;

      /* Desk / light */
      --desk-dark:#201611;
      --desk-mid:#2b1f18;
      --desk-warm:#3a2a20;
      --lamp: rgba(255, 214, 160, .55);
      --vignette: rgba(0,0,0,.60);

      /* Paper */
      --paper:#f4e8d8;
      --paper2:#efe0c7;
      --paper-edge: rgba(93,64,55,.18);
      --shadow: rgba(0,0,0,.55);

      /* Move the roadmap content DOWN on the paper */
      --mapShiftY: 120px;
    }

    html, body { height: 100%; }
    body{
      font-family: 'Crimson Text', serif;
      overflow: hidden;
      width: 100vw;
      height: 100vh;
      position: relative;
      background: #0f0d0b;
    }

    /* ============================
       REALISTIC DESK / LIBRARY SCENE
       ============================ */
    .scene{
      position: fixed;
      inset: 0;
      z-index: 0;
      overflow: hidden;
    }

    /* Blurred background depth (library vibe, subtle) */
    .scene::before{
      content:"";
      position:absolute;
      inset:-20%;
      background:
        radial-gradient(900px 650px at 18% 12%, rgba(255,230,190,.16), transparent 65%),
        radial-gradient(900px 650px at 82% 20%, rgba(255,240,210,.08), transparent 70%),
        radial-gradient(1200px 900px at 50% 85%, rgba(0,0,0,.55), transparent 70%),
        /* bookshelf-ish silhouettes */
        linear-gradient(90deg,
          rgba(0,0,0,.14) 0%,
          rgba(0,0,0,.00) 14%,
          rgba(0,0,0,.10) 30%,
          rgba(0,0,0,.00) 50%,
          rgba(0,0,0,.10) 70%,
          rgba(0,0,0,.00) 100%
        );
      filter: blur(22px);
      opacity: .95;
      transform: scale(1.05);
    }

    /* Wood desk surface + warm lamp + grain + vignette */
    .scene::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(900px 700px at 15% 10%, var(--lamp), transparent 62%),
        radial-gradient(1400px 900px at 50% 55%, rgba(0,0,0,.20), var(--vignette) 78%),

        /* wood grain */
        repeating-linear-gradient(
          90deg,
          rgba(255,255,255,.035) 0px,
          rgba(255,255,255,.015) 18px,
          rgba(0,0,0,.03) 38px
        ),

        /* base wood */
        linear-gradient(180deg, #3f2f23 0%, var(--desk-warm) 40%, var(--desk-mid) 75%, var(--desk-dark) 100%);
    }

    /* ============================
       MAIN CONTAINER
       ============================ */
    .map-container{
      position: relative;
      width: 100%;
      height: 100%;
      overflow: hidden;
      cursor: grab;
      z-index: 1; /* above the scene */
    }
    .map-container.grabbing{ cursor: grabbing; }

    /* Parchment wrapper - drop animation */
    .parchment-wrapper{
      position: absolute;
      top: -150%;
      left: 50%;
      transform: translateX(-50%);
      animation: parchmentDrop 2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      transform-origin: center top;
    }

    @keyframes parchmentDrop{
      0%{
        top: -150%;
        transform: translateX(-50%) rotate(-5deg) scale(0.3);
        opacity: 0;
      }
      60%{
        top: 52%;
        transform: translateX(-50%) translateY(-50%) rotate(0deg) scale(0.96);
        opacity: 1;
      }
      100%{
        top: 52%;
        transform: translateX(-50%) translateY(-50%) rotate(0deg) scale(1);
        opacity: 1;
      }
    }

    /* ============================
       PAPER (MORE REAL / GROUNDED)
       ============================ */
    .parchment{
      position: relative;
      width: 1600px;
      height: 1200px;
      border-radius: 12px;

      background:
        /* gentle center light */
        radial-gradient(1200px 900px at 30% 20%, rgba(255,255,255,.55), rgba(255,255,255,.08) 70%),
        /* paper base */
        linear-gradient(180deg, var(--paper), var(--paper2));

      /* deeper grounded shadow (sitting on desk) */
      box-shadow:
        0 55px 140px rgba(0,0,0,.65),
        0 22px 60px rgba(0,0,0,.45),
        0 10px 28px rgba(0,0,0,.30),
        inset 0 1px 0 rgba(255,255,255,.55),
        inset 0 -1px 0 rgba(0,0,0,.08);

      transform-origin: center center;
      transition: none;
    }

    /* paper fiber texture + subtle aging */
    .parchment::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius: 12px;
      pointer-events:none;
      background:
        radial-gradient(900px 700px at 85% 25%, rgba(93,64,55,.08), transparent 70%),
        radial-gradient(900px 700px at 15% 80%, rgba(93,64,55,.06), transparent 70%),
        repeating-linear-gradient(0deg, rgba(93,64,55,.018), rgba(93,64,55,.018) 2px, transparent 2px, transparent 6px),
        repeating-linear-gradient(90deg, rgba(93,64,55,.012), rgba(93,64,55,.012) 2px, transparent 2px, transparent 7px);
      opacity: .75;
      mix-blend-mode: multiply;
    }

    /* corner curl (more realistic than triangle sticker) */
    .parchment::after{
      content:"";
      position:absolute;
      right: 18px;
      bottom: 18px;
      width: 150px;
      height: 150px;
      border-radius: 16px;
      pointer-events:none;

      background:
        radial-gradient(circle at 5% 5%, rgba(0,0,0,.28), transparent 65%),
        linear-gradient(135deg, rgba(255,255,255,.0) 48%, rgba(93,64,55,.14) 60%, rgba(0,0,0,.16) 100%);
      opacity: .55;
      filter: blur(.2px);
      transform: rotate(10deg);
      clip-path: polygon(100% 0, 100% 100%, 0 100%);
    }

    /* map border */
    .map-border{
      position:absolute;
      top: 22px;
      left: 22px;
      right: 22px;
      bottom: 22px;
      border: 2px solid rgba(93,64,55,.16);
      border-radius: 8px;
      pointer-events:none;
    }
    .map-border::before{
      content:"";
      position:absolute;
      inset: 6px;
      border: 1px solid rgba(93,64,55,.09);
      border-radius: 6px;
    }

    /* Title */
    .map-title{
      position:absolute;
      top: 54px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Cinzel', serif;
      font-size: 52px;
      font-weight: 700;
      color: var(--ink2);
      letter-spacing: 4px;
      text-align: center;
      text-shadow:
        1px 1px 0 rgba(255,255,255,.25),
        0 2px 4px rgba(0,0,0,.10);
      pointer-events:none;
    }

    .map-subtitle{
      position:absolute;
      top: 118px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Crimson Text', serif;
      font-size: 18px;
      font-style: italic;
      color: var(--ink);
      letter-spacing: 1px;
      opacity: .72;
      pointer-events:none;
    }

    /* Shift the ROADMAP drawing area down */
    .map-content{
      position:absolute;
      inset: 0;
      transform: translateY(var(--mapShiftY));
      transform-origin: top center;
    }

    /* SVG path layer */
    .map-svg{
      position:absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events:none;
    }

    .treasure-path{
      fill:none;
      stroke: var(--ink);
      stroke-width: 3;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-dasharray: 10, 5;
      opacity: .75;
      filter: url(#inkBlur);
    }

    /* Subtle grid lines */
    .grid-lines{
      stroke: rgba(93,64,55,.07);
      stroke-width: 0.6;
    }

    /* Compass rose */
    .compass-rose{
      position:absolute;
      bottom: 60px;
      left: 60px;
      width: 110px;
      height: 110px;
      opacity: .14;
      pointer-events:none;
    }

    /* ============================
       NODES (NO EMOJI “STICKERS”)
       ============================ */
    .node{
      position:absolute;
      width: 84px;
      height: 84px;
      transform: translate(-50%, -50%);
      cursor: pointer;
      transition: transform .25s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .node:hover{
      transform: translate(-50%, -50%) scale(1.08);
      z-index: 10;
    }

    .node-circle{
      position:absolute;
      top:50%;
      left:50%;
      transform: translate(-50%, -50%);
      width: 62px;
      height: 62px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), rgba(0,0,0,.04) 65%),
        radial-gradient(circle at 40% 40%, #f7eee0, #d7bda0);
      border: 3px solid var(--ink);
      box-shadow:
        0 6px 16px rgba(0,0,0,.20),
        inset 0 2px 6px rgba(255,255,255,.25);
    }

    /* subtle hover glow (ink aura) */
    .node:hover .node-circle{
      box-shadow:
        0 0 22px rgba(93,64,55,.25),
        0 8px 18px rgba(0,0,0,.22),
        inset 0 2px 6px rgba(255,255,255,.28);
    }

    .node-label{
      position:absolute;
      top:50%;
      left:50%;
      transform: translate(-50%, -50%);
      font-family: 'Cinzel', serif;
      font-size: 10px;
      font-weight: 700;
      color: var(--ink2);
      text-align:center;
      line-height: 1.25;
      pointer-events:none;
      width: 74px;
      letter-spacing: .35px;
      text-shadow: 0 1px 2px rgba(255,255,255,.5);
      white-space: pre-line;
    }

    /* Remove “visited checkmark sticker” — instead just darken slightly */
    .node.visited .node-circle{
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.45), rgba(0,0,0,.06) 70%),
        radial-gradient(circle at 40% 40%, #e9d7bf, #c5a786);
    }

    /* Start label */
    .node.first::before{
      content:'START HERE';
      position:absolute;
      top: -34px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Cinzel', serif;
      font-size: 10px;
      font-weight: 700;
      color: #7a3f1e;
      letter-spacing: 1px;
      white-space: nowrap;
      background: rgba(244,232,216,.92);
      padding: 4px 12px;
      border-radius: 12px;
      border: 1px solid rgba(93,64,55,.35);
      box-shadow: 0 2px 10px rgba(0,0,0,.15);
    }

    /* Final treasure (keep subtle, not cheesy) */
    .node.final .node-circle{
      background: radial-gradient(circle at 30% 30%, #ffe08a, #d7a12d);
      animation: treasureGlow 3s ease-in-out infinite;
      border-color: rgba(93,64,55,.9);
    }

    @keyframes treasureGlow{
      0%, 100%{
        box-shadow:
          0 0 16px rgba(215,161,45,.35),
          0 8px 18px rgba(0,0,0,.22),
          inset 0 2px 6px rgba(255,255,255,.25);
      }
      50%{
        box-shadow:
          0 0 30px rgba(215,161,45,.55),
          0 10px 22px rgba(0,0,0,.25),
          inset 0 2px 6px rgba(255,255,255,.30);
      }
    }

    .node.final::after{
      content:'✦';
      position:absolute;
      top: -14px;
      right: -14px;
      font-size: 22px;
      color: #d7a12d;
      opacity: .9;
      animation: sparkle 2.4s ease-in-out infinite;
      pointer-events:none;
    }

    @keyframes sparkle{
      0%,100%{ opacity:.55; transform: scale(1) rotate(0deg); }
      50%{ opacity:1; transform: scale(1.18) rotate(90deg); }
    }

    /* ============================
       INFO CARD
       ============================ */
    .info-card{
      position: fixed;
      background:
        radial-gradient(ellipse at 30% 30%, rgba(244,232,216,1), rgba(240,229,213,1)),
        linear-gradient(135deg, #f4e8d8 0%, #ebe0d0 100%);
      border-radius: 10px;
      padding: 28px 32px;
      box-shadow:
        0 25px 70px rgba(0,0,0,.55),
        0 10px 25px rgba(0,0,0,.30),
        inset 0 1px 0 rgba(255,255,255,.45),
        0 0 0 1px rgba(93,64,55,.14);
      max-width: 420px;
      z-index: 1000;
      opacity: 0;
      transform: scale(.92) translateY(10px);
      transition: opacity .28s cubic-bezier(0.34, 1.56, 0.64, 1),
                  transform .28s cubic-bezier(0.34, 1.56, 0.64, 1);
      pointer-events: none;
      border: 2px solid rgba(139,119,101,.13);
    }

    .info-card::before{
      content:"";
      position:absolute;
      inset:0;
      border-radius: 8px;
      pointer-events:none;
      background:
        repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(139,119,101,.02) 2px, rgba(139,119,101,.02) 4px),
        repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(139,119,101,.02) 2px, rgba(139,119,101,.02) 4px);
      opacity: .65;
    }

    .info-card.show{
      opacity: 1;
      transform: scale(1) translateY(0);
      pointer-events: auto;
    }

    .info-card-title{
      font-family: 'Cinzel', serif;
      font-size: 24px;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 16px;
      letter-spacing: .5px;
      position: relative;
      z-index: 1;
    }

    .info-card-content{
      font-size: 17px;
      line-height: 1.7;
      color: #2f2f2f;
      position: relative;
      z-index: 1;
    }
    .info-card-content p{ margin-bottom: 10px; }
    .info-card-content p:last-child{ margin-bottom: 0; }

    .close-btn{
      position:absolute;
      top: 14px;
      right: 14px;
      width: 34px;
      height: 34px;
      border: 1px solid rgba(93,64,55,.22);
      background: rgba(244,232,216,.92);
      border-radius: 50%;
      cursor: pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 18px;
      color: var(--ink);
      transition: transform .18s ease, background .18s ease;
      box-shadow: 0 2px 8px rgba(0,0,0,.15);
      z-index: 2;
    }
    .close-btn:hover{
      background: rgba(225,205,182,.95);
      transform: scale(1.08);
    }

    /* Controls */
    .controls{
      position: fixed;
      bottom: 30px;
      right: 30px;
      display: flex;
      gap: 12px;
      z-index: 100;
    }
    .control-btn{
      width: 48px;
      height: 48px;
      background: rgba(255,255,255,.92);
      border: 1px solid rgba(0,0,0,.10);
      border-radius: 12px;
      cursor: pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size: 20px;
      color: #222;
      box-shadow: 0 6px 16px rgba(0,0,0,.18);
      transition: transform .18s ease, background .18s ease;
      font-weight: 800;
      backdrop-filter: blur(6px);
    }
    .control-btn:hover{
      background: rgba(255,255,255,.98);
      transform: translateY(-2px);
    }
    .control-btn:active{ transform: translateY(0); }

    /* Watermark */
    .watermark{
      position: fixed;
      bottom: 30px;
      left: 30px;
      font-family: 'Cinzel', serif;
      font-size: 14px;
      color: rgba(255,255,255,.42);
      letter-spacing: 2px;
      z-index: 100;
      font-weight: 700;
      text-shadow: 0 2px 10px rgba(0,0,0,.45);
    }

    /* Helper hint */
    .helper-hint{
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,.75);
      color: white;
      padding: 16px 28px;
      border-radius: 12px;
      font-size: 16px;
      z-index: 50;
      animation: hintFade 3s ease-in-out forwards;
      pointer-events: none;
      box-shadow: 0 18px 40px rgba(0,0,0,.35);
    }
    @keyframes hintFade{
      0%{ opacity:0; }
      10%{ opacity:1; }
      90%{ opacity:1; }
      100%{ opacity:0; }
    }

    /* Mobile */
    @media (max-width: 768px){
      .controls{ bottom: 20px; right: 20px; gap: 8px; }
      .control-btn{ width: 44px; height: 44px; font-size: 18px; }
      .watermark{ bottom: 20px; left: 20px; font-size: 12px; }
      .info-card{ max-width: calc(100vw - 40px); padding: 24px; }
      .info-card-title{ font-size: 20px; }
      .info-card-content{ font-size: 15px; }
      :root{ --mapShiftY: 110px; }
    }

    /* Overlay */
    .overlay{
      position: fixed;
      inset: 0;
      background: transparent;
      z-index: 999;
      display: none;
    }
    .overlay.show{ display:block; }
  </style>
</head>

<body>
  <!-- Desk / library scene -->
  <div class="scene"></div>

  <div class="map-container" id="mapContainer">
    <div class="parchment-wrapper">
      <div class="parchment" id="parchment">
        <div class="map-border"></div>
        <div class="map-title">FYNX ROADMAP</div>
        <div class="map-subtitle">A blueprint from zero to Wall Street scale</div>

        <!-- Everything below is shifted down inside paper -->
        <div class="map-content" id="mapContent">
          <svg class="map-svg" id="mapSvg">
            <defs>
              <filter id="inkBlur">
                <feGaussianBlur in="SourceGraphic" stdDeviation="0.5"></feGaussianBlur>
              </filter>
            </defs>

            <!-- Grid lines -->
            <g class="grid-lines">
              <line x1="100" y1="150" x2="1500" y2="150" />
              <line x1="100" y1="350" x2="1500" y2="350" />
              <line x1="100" y1="550" x2="1500" y2="550" />
              <line x1="100" y1="750" x2="1500" y2="750" />
              <line x1="100" y1="950" x2="1500" y2="950" />
              <line x1="300" y1="150" x2="300" y2="1050" />
              <line x1="600" y1="150" x2="600" y2="1050" />
              <line x1="900" y1="150" x2="900" y2="1050" />
              <line x1="1200" y1="150" x2="1200" y2="1050" />
            </g>

            <path class="treasure-path" id="treasurePath" d=""></path>
          </svg>

          <!-- Compass -->
          <svg class="compass-rose" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="45" fill="none" stroke="#5d4037" stroke-width="1"></circle>
            <circle cx="50" cy="50" r="35" fill="none" stroke="#5d4037" stroke-width="0.5"></circle>
            <path d="M 50 5 L 55 45 L 50 50 L 45 45 Z" fill="#5d4037"></path>
            <path d="M 50 95 L 55 55 L 50 50 L 45 55 Z" fill="#5d4037" opacity="0.5"></path>
            <path d="M 5 50 L 45 55 L 50 50 L 45 45 Z" fill="#5d4037" opacity="0.5"></path>
            <path d="M 95 50 L 55 55 L 50 50 L 55 45 Z" fill="#5d4037" opacity="0.5"></path>
            <text x="50" y="18" font-family="Cinzel, serif" font-size="12" text-anchor="middle" fill="#5d4037">N</text>
            <text x="50" y="92" font-family="Cinzel, serif" font-size="10" text-anchor="middle" fill="#5d4037" opacity="0.6">S</text>
            <text x="15" y="55" font-family="Cinzel, serif" font-size="10" text-anchor="middle" fill="#5d4037" opacity="0.6">W</text>
            <text x="85" y="55" font-family="Cinzel, serif" font-size="10" text-anchor="middle" fill="#5d4037" opacity="0.6">E</text>
          </svg>

          <div id="nodesContainer"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="controls">
    <button class="control-btn" id="zoomIn" title="Zoom In">+</button>
    <button class="control-btn" id="zoomOut" title="Zoom Out">−</button>
    <button class="control-btn" id="resetView" title="Reset View">⟲</button>
  </div>

  <div class="watermark">FYNX ROADMAP</div>
  <div class="helper-hint">Scroll or pinch to zoom • Drag to explore</div>

  <div class="overlay" id="overlay"></div>
  <div class="info-card" id="infoCard">
    <button class="close-btn" id="closeCard">×</button>
    <div class="info-card-title" id="cardTitle"></div>
    <div class="info-card-content" id="cardContent"></div>
  </div>

  <script>
    // ========== ROADMAP DATA ==========
    const ROADMAP_DATA = [
      { id:'fynx', label:'FYNX', x:180, y:200, details:[
        'Build the core dashboard foundation.',
        'Include Calculator, News, and Trading Journal.',
        'Make it fast, clean, and real product quality.',
        'This is the base layer for everything else.'
      ]},
      { id:'fynx1', label:'FYNX 1\nEntry Trading', x:340, y:180, details:[
        'Build a simple entry trading panel like MetaTrader-style execution.',
        'Focus on placing trades, risk controls, and basic order types.',
        'Keep it lightweight and easy for beginners.',
        'This becomes the first "trading engine" UI.'
      ]},
      { id:'fynx2', label:'FYNX 2\nTrading Chart', x:500, y:220, details:[
        'Add advanced charts like TradingView-style experience.',
        'Include indicators, drawing tools, timeframes, and watchlist.',
        'Make it smooth and interactive with real-time feel.',
        'This becomes the main visual trading workstation.'
      ]},
      { id:'fynx3', label:'FYNX 3\nBroker Layer', x:650, y:190, details:[
        'Add broker infrastructure conceptually as the next step.',
        'Show that FYNX becomes the platform where trades route and execute.',
        'Prepare for accounts, balances, and compliance-ready structure.',
        'This is where FYNX becomes a real brokerage product.'
      ]},
      { id:'fynx4', label:'FYNX 4\nFunded Platform', x:810, y:240, details:[
        'Create a funded-trader platform concept (challenges, rules, payouts).',
        'Track performance, drawdown, and objectives.',
        'Build trust systems and clear dashboards.',
        'This unlocks scale with traders worldwide.'
      ]},
      { id:'fynx5', label:'FYNX 5\nMarket News Hub', x:950, y:210, details:[
        'Build a market news hub like ForexFactory-style calendar/news flow.',
        'Show events, impact levels, filters, and summaries.',
        'Keep it fast and constantly updating.',
        'This makes the platform feel alive daily.'
      ]},
      { id:'fynx6', label:'FYNX 6\nCrypto + Wallet', x:1100, y:270, details:[
        'Add a crypto layer: wallet, transactions, and transfers.',
        'Show that users can store, move, and track crypto inside FYNX.',
        'Make it secure and clean with strong UX.',
        'This expands FYNX into full finance rails.'
      ]},
      { id:'fynxai', label:'FYNX AI', x:1240, y:240, details:[
        'Add an AI layer across the whole ecosystem.',
        'AI helps with analysis, education, decision support, and automation.',
        'Make it feel like an "AI co-pilot" inside the platform.',
        'This becomes the power multiplier for everything.'
      ]},
      { id:'stock', label:'Stock of\nFYNX', x:250, y:480, details:[
        'Show the long-term goal of turning FYNX into a public company.',
        'Build a brand that becomes a real financial institution.',
        'Prepare for big partnerships and serious scale.',
        'This is the "public market" endgame milestone.'
      ]},
      { id:'coin', label:'Coin of\nFYNX', x:420, y:520, details:[
        'Show the goal of launching a native crypto asset for the ecosystem.',
        'Use it for utility, payments, and community growth.',
        'Tie it to products so it\'s not just hype.',
        'This is the FYNX network expansion milestone.'
      ]},
      { id:'banking', label:'Start\nBanking', x:590, y:500, details:[
        'Show the goal of building banking services and accounts.',
        'Move beyond tools into real financial products.',
        'Build systems that can handle large-scale users.',
        'This makes FYNX a real financial backbone.'
      ]},
      { id:'privateequity', label:'Private\nEquity', x:760, y:540, details:[
        'Show the goal of owning stakes in companies and building an empire.',
        'Use capital to acquire, invest, and scale real businesses.',
        'Connect it to the finance ecosystem strategy.',
        'This is how FYNX grows beyond one product.'
      ]},
      { id:'investmentbanking', label:'Investment\nBanking System', x:950, y:520, details:[
        'Show the goal of building an institutional-grade banking layer.',
        'Help big money move, invest, and structure deals.',
        'Make it feel like next-generation Wall Street tools.',
        'This is the "elite finance" product tier.'
      ]},
      { id:'wallstreet', label:'Wall Street\nLevel', x:1140, y:560, details:[
        'Show the goal of reaching the highest finance arena.',
        'Compete with the biggest names in the financial industry.',
        'Build products enterprises and institutions actually use.',
        'This is the ultimate credibility and dominance milestone.'
      ]}
    ];

    // ========== STATE ==========
    let scale = 1;
    let translateX = 0;
    let translateY = 0;
    let isDragging = false;
    let startX = 0;
    let startY = 0;
    let currentX = 0;
    let currentY = 0;

    // ========== ELEMENTS ==========
    const parchment = document.getElementById('parchment');
    const mapContainer = document.getElementById('mapContainer');
    const nodesContainer = document.getElementById('nodesContainer');
    const infoCard = document.getElementById('infoCard');
    const overlay = document.getElementById('overlay');
    const cardTitle = document.getElementById('cardTitle');
    const cardContent = document.getElementById('cardContent');
    const treasurePath = document.getElementById('treasurePath');

    // ========== RENDER NODES ==========
    function renderNodes(){
      ROADMAP_DATA.forEach((node, index) => {
        const nodeEl = document.createElement('div');
        nodeEl.className = 'node';
        nodeEl.style.left = `${node.x}px`;
        nodeEl.style.top  = `${node.y}px`;
        nodeEl.dataset.id = node.id;

        if (index === 0) nodeEl.classList.add('first');
        if (index === ROADMAP_DATA.length - 1) nodeEl.classList.add('final');

        nodeEl.innerHTML = `
          <div class="node-circle"></div>
          <div class="node-label">${node.label}</div>
        `;

        nodeEl.addEventListener('click', (e) => {
          e.stopPropagation();
          showInfoCard(node, e);
          nodeEl.classList.add('visited');
        });

        nodesContainer.appendChild(nodeEl);
      });

      drawPath();
    }

    // ========== DRAW PATH ==========
    function drawPath(){
      let pathData = `M ${ROADMAP_DATA[0].x} ${ROADMAP_DATA[0].y}`;
      for (let i = 1; i < ROADMAP_DATA.length; i++){
        const prev = ROADMAP_DATA[i - 1];
        const curr = ROADMAP_DATA[i];
        const midX = (prev.x + curr.x) / 2;
        const midY = (prev.y + curr.y) / 2;
        pathData += ` Q ${midX} ${midY - 20}, ${curr.x} ${curr.y}`;
      }
      treasurePath.setAttribute('d', pathData);
    }

    // ========== INFO CARD ==========
    function showInfoCard(node, event){
      cardTitle.textContent = node.label.replace('\n', ' ');
      cardContent.innerHTML = node.details.map(d => `<p>${d}</p>`).join('');

      const rect = event.target.getBoundingClientRect();
      const cardWidth = 420;
      const cardHeight = 300;

      let left = rect.left + window.scrollX;
      let top = rect.bottom + window.scrollY + 20;

      if (left + cardWidth > window.innerWidth - 40) left = window.innerWidth - cardWidth - 40;
      if (left < 40) left = 40;
      if (top + cardHeight > window.innerHeight - 40) top = rect.top + window.scrollY - cardHeight - 20;

      infoCard.style.left = `${left}px`;
      infoCard.style.top = `${top}px`;

      infoCard.classList.add('show');
      overlay.classList.add('show');
    }

    function hideInfoCard(){
      infoCard.classList.remove('show');
      overlay.classList.remove('show');
    }

    document.getElementById('closeCard').addEventListener('click', hideInfoCard);
    overlay.addEventListener('click', hideInfoCard);

    // ========== PAN & ZOOM ==========
    function updateTransform(){
      parchment.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
    }

    mapContainer.addEventListener('mousedown', startDrag);
    mapContainer.addEventListener('touchstart', startDrag, { passive:false });

    function startDrag(e){
      if (e.target.closest('.node') || e.target.closest('.control-btn')) return;
      isDragging = true;
      mapContainer.classList.add('grabbing');

      const clientX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
      const clientY = e.type === 'mousedown' ? e.clientY : e.touches[0].clientY;

      startX = clientX - currentX;
      startY = clientY - currentY;
      e.preventDefault();
    }

    document.addEventListener('mousemove', drag);
    document.addEventListener('touchmove', drag, { passive:false });

    function drag(e){
      if (!isDragging) return;

      const clientX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
      const clientY = e.type === 'mousemove' ? e.clientY : e.touches[0].clientY;

      currentX = clientX - startX;
      currentY = clientY - startY;
      translateX = currentX;
      translateY = currentY;

      updateTransform();
      e.preventDefault();
    }

    document.addEventListener('mouseup', stopDrag);
    document.addEventListener('touchend', stopDrag);

    function stopDrag(){
      isDragging = false;
      mapContainer.classList.remove('grabbing');
    }

    // Wheel zoom
    mapContainer.addEventListener('wheel', (e) => {
      e.preventDefault();

      const delta = e.deltaY > 0 ? -0.1 : 0.1;
      const newScale = Math.min(Math.max(0.5, scale + delta), 3);

      if (newScale !== scale){
        const rect = mapContainer.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;

        const scaleRatio = newScale / scale;
        translateX = mouseX - (mouseX - translateX) * scaleRatio;
        translateY = mouseY - (mouseY - translateY) * scaleRatio;
        currentX = translateX;
        currentY = translateY;

        scale = newScale;
        updateTransform();
      }
    }, { passive:false });

    // Pinch zoom
    let initialDistance = 0;
    let initialScale = 1;

    mapContainer.addEventListener('touchstart', (e) => {
      if (e.touches.length === 2){
        initialDistance = getDistance(e.touches[0], e.touches[1]);
        initialScale = scale;
      }
    }, { passive:true });

    mapContainer.addEventListener('touchmove', (e) => {
      if (e.touches.length === 2){
        e.preventDefault();
        const currentDistance = getDistance(e.touches[0], e.touches[1]);
        const newScale = Math.min(Math.max(0.5, initialScale * (currentDistance / initialDistance)), 3);
        if (newScale !== scale){
          scale = newScale;
          updateTransform();
        }
      }
    }, { passive:false });

    function getDistance(t1, t2){
      const dx = t1.clientX - t2.clientX;
      const dy = t1.clientY - t2.clientY;
      return Math.sqrt(dx*dx + dy*dy);
    }

    // Buttons
    document.getElementById('zoomIn').addEventListener('click', () => {
      scale = Math.min(scale + 0.2, 3);
      updateTransform();
    });

    document.getElementById('zoomOut').addEventListener('click', () => {
      scale = Math.max(scale - 0.2, 0.5);
      updateTransform();
    });

    document.getElementById('resetView').addEventListener('click', () => {
      scale = 1;
      translateX = 0;
      translateY = 0;
      currentX = 0;
      currentY = 0;
      updateTransform();
    });

    // ========== INIT ==========
    renderNodes();
    updateTransform();
  </script>
</body>
</html>
